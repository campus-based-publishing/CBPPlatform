<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>CBP Platform: Upgrade Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">CBP Platform
   &#160;<span id="projectnumber">Version 1</span>
   </div>
   <div id="projectbrief">Campus-based Publishing Platform</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">Upgrade Class Reference<div class="ingroups"><a class="el" href="group__install.html">Install</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="Upgrade" --><!-- doxytag: inherits="Installer" -->
<p>Perform system upgrade.  
 <a href="class_upgrade.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for Upgrade:</div>
<div class="dyncontent">
<div class="center"><img src="class_upgrade__inherit__graph.jpg" border="0" usemap="#_upgrade_inherit__map" alt="Inheritance graph"/></div>
<map name="_upgrade_inherit__map" id="_upgrade_inherit__map">
<area shape="rect" id="node2" href="class_installer.html" title="Base class for install and upgrade scripts." alt="" coords="7,6,75,34"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for Upgrade:</div>
<div class="dyncontent">
<div class="center"><img src="class_upgrade__coll__graph.jpg" border="0" usemap="#_upgrade_coll__map" alt="Collaboration graph"/></div>
<map name="_upgrade_coll__map" id="_upgrade_coll__map">
<area shape="rect" id="node2" href="class_installer.html" title="Base class for install and upgrade scripts." alt="" coords="7,6,75,34"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_upgrade.html#aed50e76172f2dcefd089036b5dc4899b">Upgrade</a> ($params, $installFile= 'upgrade.xml', $isPlugin=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_upgrade.html#a7978c3021a3c6a7af37f501953de8be2">isUpgrade</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_upgrade.html#a69e17fa2a0cbd4ab7e6ffc04cbfa255a">rebuildSearchIndex</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_upgrade.html#acdf28ecb7fa3a820ac4968fe40a342d7">designateReviewVersions</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_upgrade.html#a878b907d5c20306aee7dff199af36f98">migrateRtSettings</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_upgrade.html#a3aefc99d935facb6dc83532c641792ef">correctCurrencies</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_upgrade.html#ab0ba58ddce319bfba3736f0aa4473d72">migrateIssueLabelAndSettings</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_upgrade.html#aca3acc635e9785a0fb12a874b14e8b7e">setJournalPrimaryLocales</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_upgrade.html#a2f43f665d72452e9a8f5ddf976466ab1">installBlockPlugins</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_upgrade.html#af37dbdb8ede2f849f23e32962f1eeed7">clearDataCache</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_upgrade.html#aad2f0e5a62aa8d2c4875055c16c14bf6">localizeJournalSettings</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_upgrade.html#a676e5f84693fc8cd022691bd50faf5a2">localizeMoreJournalSettings</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_upgrade.html#a7e462184b545069d7b1f6daa1837c59f">migratePublisher</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_upgrade.html#a0f72733c229cf17d6cf11ed3c8c1960b">setGalleyLocales</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_upgrade.html#ac8bc0fff037999bb73ed7a6d7099fb16">migrateUserSettings</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_upgrade.html#a991b17a1f50102b568c903a6d4aada09">dropAllIndexes</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_upgrade.html#a6074f7244f234bbe2951310c8b29a2e8">ensureSupportedLocales</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_upgrade.html#a972afee0082acfc1a4ed17a305948329">renamePayPerViewSettings</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_upgrade.html#a5ee5e5bddea7e61e71739ed57350d9ad">separateSubscriptions</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_upgrade.html#a90f2f0dfe4d29d52108b70157d630380">cleanTitles</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_upgrade.html#aeea3a4cb41bf5c07d67f54c798aa5b0c">cleanImageAlts</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_upgrade.html#ac5aeb1a0cb91829f7115bc838dbcabbf">migrateReviewingInterests</a> ()</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Perform system upgrade. </p>

<p>Definition at line <a class="el" href="_upgrade_8inc_8php_source.html#l00018">18</a> of file <a class="el" href="_upgrade_8inc_8php_source.html">Upgrade.inc.php</a>.</p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aeea3a4cb41bf5c07d67f54c798aa5b0c"></a><!-- doxytag: member="Upgrade::cleanImageAlts" ref="aeea3a4cb41bf5c07d67f54c798aa5b0c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_upgrade.html#aeea3a4cb41bf5c07d67f54c798aa5b0c">cleanImageAlts</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>For 2.3 upgrade: Move image alts for <a class="el" href="class_journal.html" title="Describes basic journal properties.">Journal</a> Setup Step 5 from within the image settings into their own settings. (Improves usability of page 5 setup form and simplifies the code considerably.) </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

<p>Definition at line <a class="el" href="_upgrade_8inc_8php_source.html#l00691">691</a> of file <a class="el" href="_upgrade_8inc_8php_source.html">Upgrade.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a90f2f0dfe4d29d52108b70157d630380"></a><!-- doxytag: member="Upgrade::cleanTitles" ref="a90f2f0dfe4d29d52108b70157d630380" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_upgrade.html#a90f2f0dfe4d29d52108b70157d630380">cleanTitles</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>For 2.3 upgrade: Add clean titles for every article title so sorting by title ignores punctuation. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

<p>Definition at line <a class="el" href="_upgrade_8inc_8php_source.html#l00668">668</a> of file <a class="el" href="_upgrade_8inc_8php_source.html">Upgrade.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="af37dbdb8ede2f849f23e32962f1eeed7"></a><!-- doxytag: member="Upgrade::clearDataCache" ref="af37dbdb8ede2f849f23e32962f1eeed7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_upgrade.html#af37dbdb8ede2f849f23e32962f1eeed7">clearDataCache</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Clear the data cache files (needed because of direct tinkering with settings tables) </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

<p>Reimplemented from <a class="el" href="class_installer.html#af37dbdb8ede2f849f23e32962f1eeed7">Installer</a>.</p>

<p>Definition at line <a class="el" href="_upgrade_8inc_8php_source.html#l00260">260</a> of file <a class="el" href="_upgrade_8inc_8php_source.html">Upgrade.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a3aefc99d935facb6dc83532c641792ef"></a><!-- doxytag: member="Upgrade::correctCurrencies" ref="a3aefc99d935facb6dc83532c641792ef" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_upgrade.html#a3aefc99d935facb6dc83532c641792ef">correctCurrencies</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>For upgrade to OJS 2.2.0: Migrate the currency settings so the currencies table can be dropped in favour of XML. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

<p>Definition at line <a class="el" href="_upgrade_8inc_8php_source.html#l00126">126</a> of file <a class="el" href="_upgrade_8inc_8php_source.html">Upgrade.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="acdf28ecb7fa3a820ac4968fe40a342d7"></a><!-- doxytag: member="Upgrade::designateReviewVersions" ref="acdf28ecb7fa3a820ac4968fe40a342d7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_upgrade.html#acdf28ecb7fa3a820ac4968fe40a342d7">designateReviewVersions</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>For upgrade to 2.1.1: Designate original versions as review versions in all cases where review versions aren't designated. (#2144) </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

<p>Definition at line <a class="el" href="_upgrade_8inc_8php_source.html#l00055">55</a> of file <a class="el" href="_upgrade_8inc_8php_source.html">Upgrade.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a991b17a1f50102b568c903a6d4aada09"></a><!-- doxytag: member="Upgrade::dropAllIndexes" ref="a991b17a1f50102b568c903a6d4aada09" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_upgrade.html#a991b17a1f50102b568c903a6d4aada09">dropAllIndexes</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>For 2.2 upgrade: index handling changed away from using the &lt;KEY&gt; syntax in schema descriptors in cases where AUTONUM columns were not used, in favour of specifically-named indexes using the &lt;index ...&gt; syntax. For this, all indexes (including potentially duplicated indexes from before) on OJS tables should be dropped prior to the new schema being applied. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

<p>Definition at line <a class="el" href="_upgrade_8inc_8php_source.html#l00468">468</a> of file <a class="el" href="_upgrade_8inc_8php_source.html">Upgrade.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a6074f7244f234bbe2951310c8b29a2e8"></a><!-- doxytag: member="Upgrade::ensureSupportedLocales" ref="a6074f7244f234bbe2951310c8b29a2e8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_upgrade.html#a6074f7244f234bbe2951310c8b29a2e8">ensureSupportedLocales</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The supportedLocales setting may be missing for journals; ensure that it is properly set. </p>

<p>Definition at line <a class="el" href="_upgrade_8inc_8php_source.html#l00524">524</a> of file <a class="el" href="_upgrade_8inc_8php_source.html">Upgrade.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a2f43f665d72452e9a8f5ddf976466ab1"></a><!-- doxytag: member="Upgrade::installBlockPlugins" ref="a2f43f665d72452e9a8f5ddf976466ab1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_upgrade.html#a2f43f665d72452e9a8f5ddf976466ab1">installBlockPlugins</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>For upgrade to 2.2: <a class="el" href="class_install.html" title="Perform system installation.">Install</a> default settings for block plugins. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

<p>Definition at line <a class="el" href="_upgrade_8inc_8php_source.html#l00221">221</a> of file <a class="el" href="_upgrade_8inc_8php_source.html">Upgrade.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a7978c3021a3c6a7af37f501953de8be2"></a><!-- doxytag: member="Upgrade::isUpgrade" ref="a7978c3021a3c6a7af37f501953de8be2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_upgrade.html#a7978c3021a3c6a7af37f501953de8be2">isUpgrade</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns true iff this is an upgrade process. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

<p>Reimplemented from <a class="el" href="class_installer.html#a7978c3021a3c6a7af37f501953de8be2">Installer</a>.</p>

<p>Definition at line <a class="el" href="_upgrade_8inc_8php_source.html#l00032">32</a> of file <a class="el" href="_upgrade_8inc_8php_source.html">Upgrade.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="aad2f0e5a62aa8d2c4875055c16c14bf6"></a><!-- doxytag: member="Upgrade::localizeJournalSettings" ref="aad2f0e5a62aa8d2c4875055c16c14bf6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_upgrade.html#aad2f0e5a62aa8d2c4875055c16c14bf6">localizeJournalSettings</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>For 2.2 upgrade: add locale data to existing journal settings that were not previously localized. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

<p>Definition at line <a class="el" href="_upgrade_8inc_8php_source.html#l00272">272</a> of file <a class="el" href="_upgrade_8inc_8php_source.html">Upgrade.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a676e5f84693fc8cd022691bd50faf5a2"></a><!-- doxytag: member="Upgrade::localizeMoreJournalSettings" ref="a676e5f84693fc8cd022691bd50faf5a2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_upgrade.html#a676e5f84693fc8cd022691bd50faf5a2">localizeMoreJournalSettings</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>For 2.3 upgrade: add locale data to existing journal settings that were not previously localized. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

<p>Definition at line <a class="el" href="_upgrade_8inc_8php_source.html#l00356">356</a> of file <a class="el" href="_upgrade_8inc_8php_source.html">Upgrade.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="ab0ba58ddce319bfba3736f0aa4473d72"></a><!-- doxytag: member="Upgrade::migrateIssueLabelAndSettings" ref="ab0ba58ddce319bfba3736f0aa4473d72" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_upgrade.html#ab0ba58ddce319bfba3736f0aa4473d72">migrateIssueLabelAndSettings</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>For upgrade to 2.2.0: Migrate the issue label column and values to the new show volume, show number, etc. columns and values. Migrate the publication format settings for the journal to the new issue label format. (#2291) </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

<p>Definition at line <a class="el" href="_upgrade_8inc_8php_source.html#l00144">144</a> of file <a class="el" href="_upgrade_8inc_8php_source.html">Upgrade.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a7e462184b545069d7b1f6daa1837c59f"></a><!-- doxytag: member="Upgrade::migratePublisher" ref="a7e462184b545069d7b1f6daa1837c59f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_upgrade.html#a7e462184b545069d7b1f6daa1837c59f">migratePublisher</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>For 2.2 upgrade: Migrate the "publisher" setting from a serialized array into three localized settings: publisherUrl, publisherNote, and publisherInstitution. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

<p>Definition at line <a class="el" href="_upgrade_8inc_8php_source.html#l00387">387</a> of file <a class="el" href="_upgrade_8inc_8php_source.html">Upgrade.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="ac5aeb1a0cb91829f7115bc838dbcabbf"></a><!-- doxytag: member="Upgrade::migrateReviewingInterests" ref="ac5aeb1a0cb91829f7115bc838dbcabbf" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_upgrade.html#ac5aeb1a0cb91829f7115bc838dbcabbf">migrateReviewingInterests</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>For 2.3.3 upgrade: Migrate reviewing interests from free text to controlled vocab structure </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

<p>Definition at line <a class="el" href="_upgrade_8inc_8php_source.html#l00721">721</a> of file <a class="el" href="_upgrade_8inc_8php_source.html">Upgrade.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a878b907d5c20306aee7dff199af36f98"></a><!-- doxytag: member="Upgrade::migrateRtSettings" ref="a878b907d5c20306aee7dff199af36f98" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_upgrade.html#a878b907d5c20306aee7dff199af36f98">migrateRtSettings</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>For upgrade to 2.1.1: Migrate the <a class="el" href="class_r_t.html" title="Class to process and respond to Reading Tools requests.">RT</a> settings from the rt_settings table to journal settings and drop the rt_settings table. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

<p>Definition at line <a class="el" href="_upgrade_8inc_8php_source.html#l00081">81</a> of file <a class="el" href="_upgrade_8inc_8php_source.html">Upgrade.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="ac8bc0fff037999bb73ed7a6d7099fb16"></a><!-- doxytag: member="Upgrade::migrateUserSettings" ref="ac8bc0fff037999bb73ed7a6d7099fb16" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_upgrade.html#ac8bc0fff037999bb73ed7a6d7099fb16">migrateUserSettings</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>For 2.2 upgrade: user_settings table has been renamed in order to apply the schema changes for localization. Migrate the settings from user_settings_old to user_settings now that the new schema has been applied. </p>

<p>Definition at line <a class="el" href="_upgrade_8inc_8php_source.html#l00444">444</a> of file <a class="el" href="_upgrade_8inc_8php_source.html">Upgrade.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a69e17fa2a0cbd4ab7e6ffc04cbfa255a"></a><!-- doxytag: member="Upgrade::rebuildSearchIndex" ref="a69e17fa2a0cbd4ab7e6ffc04cbfa255a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrebuild_search_index.html">rebuildSearchIndex</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Rebuild the search index. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

<p>Definition at line <a class="el" href="_upgrade_8inc_8php_source.html#l00044">44</a> of file <a class="el" href="_upgrade_8inc_8php_source.html">Upgrade.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a972afee0082acfc1a4ed17a305948329"></a><!-- doxytag: member="Upgrade::renamePayPerViewSettings" ref="a972afee0082acfc1a4ed17a305948329" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_upgrade.html#a972afee0082acfc1a4ed17a305948329">renamePayPerViewSettings</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>For 2.2.1 upgrade: Replace "payPerView" to "purchaseArticle" in settings. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

<p>Definition at line <a class="el" href="_upgrade_8inc_8php_source.html#l00555">555</a> of file <a class="el" href="_upgrade_8inc_8php_source.html">Upgrade.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a5ee5e5bddea7e61e71739ed57350d9ad"></a><!-- doxytag: member="Upgrade::separateSubscriptions" ref="a5ee5e5bddea7e61e71739ed57350d9ad" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_upgrade.html#a5ee5e5bddea7e61e71739ed57350d9ad">separateSubscriptions</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>For 2.3 upgrade: Separate out individual and institutional subscriptions. Also pull apart single ip range string into multiple, shorter strings. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

<p>Definition at line <a class="el" href="_upgrade_8inc_8php_source.html#l00578">578</a> of file <a class="el" href="_upgrade_8inc_8php_source.html">Upgrade.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a0f72733c229cf17d6cf11ed3c8c1960b"></a><!-- doxytag: member="Upgrade::setGalleyLocales" ref="a0f72733c229cf17d6cf11ed3c8c1960b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_upgrade.html#a0f72733c229cf17d6cf11ed3c8c1960b">setGalleyLocales</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>For 2.2 upgrade: Set locales for galleys. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

<p>Definition at line <a class="el" href="_upgrade_8inc_8php_source.html#l00422">422</a> of file <a class="el" href="_upgrade_8inc_8php_source.html">Upgrade.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="aca3acc635e9785a0fb12a874b14e8b7e"></a><!-- doxytag: member="Upgrade::setJournalPrimaryLocales" ref="aca3acc635e9785a0fb12a874b14e8b7e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_upgrade.html#aca3acc635e9785a0fb12a874b14e8b7e">setJournalPrimaryLocales</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>For upgrade to 2.2: Move primary_locale from journal settings into dedicated column. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

<p>Definition at line <a class="el" href="_upgrade_8inc_8php_source.html#l00202">202</a> of file <a class="el" href="_upgrade_8inc_8php_source.html">Upgrade.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="aed50e76172f2dcefd089036b5dc4899b"></a><!-- doxytag: member="Upgrade::Upgrade" ref="aed50e76172f2dcefd089036b5dc4899b" args="($params, $installFile= 'upgrade.xml', $isPlugin=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_upgrade.html">Upgrade</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>installFile</em> = <code>'upgrade.xml'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>isPlugin</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructor. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$params</td><td>array upgrade parameters </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_upgrade_8inc_8php_source.html#l00023">23</a> of file <a class="el" href="_upgrade_8inc_8php_source.html">Upgrade.inc.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_upgrade_8inc_8php_source.html">Upgrade.inc.php</a></li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Mon Mar 12 2012 16:02:10 for CBP Platform by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
