<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>CBP Platform: ArticleFileManager Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">CBP Platform
   &#160;<span id="projectnumber">Version 1</span>
   </div>
   <div id="projectbrief">Campus-based Publishing Platform</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">ArticleFileManager Class Reference<div class="ingroups"><a class="el" href="group__file.html">File</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="ArticleFileManager" --><!-- doxytag: inherits="FileManager" -->
<p>Class defining operations for article file management.  
 <a href="class_article_file_manager.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for ArticleFileManager:</div>
<div class="dyncontent">
<div class="center"><img src="class_article_file_manager__inherit__graph.jpg" border="0" usemap="#_article_file_manager_inherit__map" alt="Inheritance graph"/></div>
<map name="_article_file_manager_inherit__map" id="_article_file_manager_inherit__map">
<area shape="rect" id="node2" href="class_file_manager.html" title="Class defining basic operations for file management." alt="" coords="23,6,117,34"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for ArticleFileManager:</div>
<div class="dyncontent">
<div class="center"><img src="class_article_file_manager__coll__graph.jpg" border="0" usemap="#_article_file_manager_coll__map" alt="Collaboration graph"/></div>
<map name="_article_file_manager_coll__map" id="_article_file_manager_coll__map">
<area shape="rect" id="node2" href="class_file_manager.html" title="Class defining basic operations for file management." alt="" coords="23,6,117,34"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#ae64b89b24470f68294921cf1a9f580a8">ArticleFileManager</a> ($articleId)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#afab8906290a591c907c3876a1fbfa8bf">uploadSubmissionFile</a> ($fileName, $fileId=null, $overwrite=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#a4e408bc4ee0fe18ba7c15a1e867b0da3">uploadReviewFile</a> ($fileName, $fileId=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#a148efd61daf4be339d3bbe352587d3f5">uploadEditorDecisionFile</a> ($fileName, $fileId=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#a0c4ed13a46a3000e7516f84e380a2929">uploadCopyeditFile</a> ($fileName, $fileId=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#a28dfbb0d3c690bff7a1346bff2bdac61">uploadLayoutFile</a> ($fileName, $fileId=null, $overwrite=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#ac4bad86fa222c9e5b1c206227d0f1406">uploadSuppFile</a> ($fileName, $fileId=null, $overwrite=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#a281608ca3584c55c7c373bd8299b9ffe">uploadPublicFile</a> ($fileName, $fileId=null, $overwrite=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#ad79c712fae01ed1fd1d56c57b4a55b03">uploadSubmissionNoteFile</a> ($fileName, $fileId=null, $overwrite=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#a74c8713f495f5ef71fe4e8cb25ddcad7">writePublicFile</a> ($fileName, &amp;$contents, $mimeType, $fileId=null, $overwrite=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#a157866ce2ee8b51e93cf83b49e27e271">copyPublicFile</a> ($url, $mimeType, $fileId=null, $overwrite=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#a556ef5cd201538091af9980ba95f5265">writeSuppFile</a> ($fileName, &amp;$contents, $mimeType, $fileId=null, $overwrite=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#a0d295103435464c589033755de38f6db">copySuppFile</a> ($url, $mimeType, $fileId=null, $overwrite=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#a2ca05b7bc048cac6fb5fc5bdc4c388e9">copyAttachmentFile</a> ($url, $mimeType, $fileId=null, $overwrite=true, $assocId=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#a591259ee50ad69e6484ca30d65ebb922">getFile</a> ($fileId, $revision=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#a81929be90360b67b8db54999858f4a82">readFile</a> ($fileId, $revision=null, $output=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#a6c6d244da39320f61ee9f1a025d381b8">deleteFile</a> ($fileId, $revision=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#a4fe0a1885dd66b207f35c91af5672905">deleteArticleTree</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#a8368de9570cfcf781cae216b5833eb83">downloadFile</a> ($fileId, $revision=null, $inline=false, $format=&quot;docx&quot;, $issueId=0, $articleId=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#a0514eba9e3a60e1f3e025ec422aba2b4">viewFile</a> ($fileId, $revision=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#abfc13e4e49cb4b2f4479094c0d07f003">copyToReviewFile</a> ($fileId, $revision=null, $destFileId=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#ac480e67ac02808b16a6ab6a3c80edf5f">copyToEditorFile</a> ($fileId, $revision=null, $destFileId=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#a6828ae4b4ef43509a8a3641db8e30bb2">copyToCopyeditFile</a> ($fileId, $revision=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#a3f4f8837919f452245adb2829421b7cd">copyToLayoutFile</a> ($fileId, $revision=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#a48db5552c194414ed995d3ff0dd61711">typeToPath</a> ($type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#a2e0db5da169a696c847d65ac037de190">copyAndRenameFile</a> ($sourceFileId, $sourceRevision, $destType, $destFileId=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#a44c3bac95fea03718b409929a2226a57">generateDummyFile</a> (&amp;$article)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#a65ad35c21994e2e271181ad6dd750ceb">removePriorRevisions</a> ($fileId, $revision)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#a41291dd786e1352ea56fff630a2c5182">generateFilename</a> (&amp;$articleFile, $type, $originalName)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#a4cb214906004e32a30cab9b0a8a78bbd">handleUpload</a> ($fileName, $type, $fileId=null, $overwrite=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#a35e0952b4bc599d51fea5f812aef8a03">returnMIMEType</a> ($filename)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#a0cffc7dd6847dca3b9b8890824a3763a">handleWrite</a> ($fileName, &amp;$contents, $mimeType, $type, $fileId=null, $overwrite=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#a91cf272404ef729cca75bf08bfe86041">handleCopy</a> ($url, $mimeType, $type, $fileId=null, $overwrite=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_article_file_manager.html#a3eadbd4fe1dc722b2a382974e555caea">temporaryFileToArticleFile</a> (&amp;$temporaryFile, $type, $assocId=null)</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acb5dd584634513452fd184202dad02bf"></a><!-- doxytag: member="ArticleFileManager::$filesDir" ref="acb5dd584634513452fd184202dad02bf" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>$filesDir</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a053c96809bd51067d81daf2c1260b40d"></a><!-- doxytag: member="ArticleFileManager::$articleId" ref="a053c96809bd51067d81daf2c1260b40d" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>$articleId</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a53df6ff92b31c8f892f2e179a3640db7"></a><!-- doxytag: member="ArticleFileManager::$article" ref="a53df6ff92b31c8f892f2e179a3640db7" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>$article</b></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Class defining operations for article file management. </p>
<p><a class="el" href="class_article.html" title="Article class.">Article</a> directory structure: [article id]/note [article id]/public [article id]/submission [article id]/submission/original [article id]/submission/review [article id]/submission/editor [article id]/submission/copyedit [article id]/submission/layout [article id]/supp [article id]/attachment </p>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00041">41</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ae64b89b24470f68294921cf1a9f580a8"></a><!-- doxytag: member="ArticleFileManager::ArticleFileManager" ref="ae64b89b24470f68294921cf1a9f580a8" args="($articleId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_article_file_manager.html">ArticleFileManager</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>articleId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructor. Create a manager for handling article file uploads. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$articleId</td><td>int </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00057">57</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a2e0db5da169a696c847d65ac037de190"></a><!-- doxytag: member="ArticleFileManager::copyAndRenameFile" ref="a2e0db5da169a696c847d65ac037de190" args="($sourceFileId, $sourceRevision, $destType, $destFileId=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_article_file_manager.html#a2e0db5da169a696c847d65ac037de190">copyAndRenameFile</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>sourceFileId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>sourceRevision</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>destType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>destFileId</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Copies an existing <a class="el" href="class_article_file.html" title="Article file class.">ArticleFile</a> and renames it. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$sourceFileId</td><td>int </td></tr>
    <tr><td class="paramname">$sourceRevision</td><td>int </td></tr>
    <tr><td class="paramname">$destType</td><td>string </td></tr>
    <tr><td class="paramname">$destFileId</td><td>int (optional) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00430">430</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a2ca05b7bc048cac6fb5fc5bdc4c388e9"></a><!-- doxytag: member="ArticleFileManager::copyAttachmentFile" ref="a2ca05b7bc048cac6fb5fc5bdc4c388e9" args="($url, $mimeType, $fileId=null, $overwrite=true, $assocId=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_article_file_manager.html#a2ca05b7bc048cac6fb5fc5bdc4c388e9">copyAttachmentFile</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>mimeType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileId</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>overwrite</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>assocId</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Copy an attachment file. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$url</td><td>string The source URL/filename </td></tr>
    <tr><td class="paramname">$mimeType</td><td>string The mime type of the original file </td></tr>
    <tr><td class="paramname">$fileId</td><td>int </td></tr>
    <tr><td class="paramname">$overwrite</td><td>boolean </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00203">203</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a157866ce2ee8b51e93cf83b49e27e271"></a><!-- doxytag: member="ArticleFileManager::copyPublicFile" ref="a157866ce2ee8b51e93cf83b49e27e271" args="($url, $mimeType, $fileId=null, $overwrite=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_article_file_manager.html#a157866ce2ee8b51e93cf83b49e27e271">copyPublicFile</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>mimeType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileId</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>overwrite</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Copy a public file. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$url</td><td>string The source URL/filename </td></tr>
    <tr><td class="paramname">$mimeType</td><td>string The mime type of the original file </td></tr>
    <tr><td class="paramname">$fileId</td><td>int </td></tr>
    <tr><td class="paramname">$overwrite</td><td>boolean </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00169">169</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a0d295103435464c589033755de38f6db"></a><!-- doxytag: member="ArticleFileManager::copySuppFile" ref="a0d295103435464c589033755de38f6db" args="($url, $mimeType, $fileId=null, $overwrite=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_article_file_manager.html#a0d295103435464c589033755de38f6db">copySuppFile</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>mimeType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileId</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>overwrite</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Copy a supplemental file. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$url</td><td>string The source URL/filename </td></tr>
    <tr><td class="paramname">$mimeType</td><td>string The mime type of the original file </td></tr>
    <tr><td class="paramname">$fileId</td><td>int </td></tr>
    <tr><td class="paramname">$overwrite</td><td>boolean </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00192">192</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a6828ae4b4ef43509a8a3641db8e30bb2"></a><!-- doxytag: member="ArticleFileManager::copyToCopyeditFile" ref="a6828ae4b4ef43509a8a3641db8e30bb2" args="($fileId, $revision=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_article_file_manager.html#a6828ae4b4ef43509a8a3641db8e30bb2">copyToCopyeditFile</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>revision</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Copies an existing file to create a copyedit file. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$fileId</td><td>int the file id of the editor file. </td></tr>
    <tr><td class="paramname">$revision</td><td>int the revision of the editor file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>int the file id of the new file. </dd></dl>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00390">390</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="ac480e67ac02808b16a6ab6a3c80edf5f"></a><!-- doxytag: member="ArticleFileManager::copyToEditorFile" ref="ac480e67ac02808b16a6ab6a3c80edf5f" args="($fileId, $revision=null, $destFileId=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_article_file_manager.html#ac480e67ac02808b16a6ab6a3c80edf5f">copyToEditorFile</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>revision</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>destFileId</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Copies an existing file to create an editor decision file. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$fileId</td><td>int the file id of the review file. </td></tr>
    <tr><td class="paramname">$revision</td><td>int the revision of the review file. </td></tr>
    <tr><td class="paramname">$destFileId</td><td>int file ID to copy to </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>int the file id of the new file. </dd></dl>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00380">380</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a3f4f8837919f452245adb2829421b7cd"></a><!-- doxytag: member="ArticleFileManager::copyToLayoutFile" ref="a3f4f8837919f452245adb2829421b7cd" args="($fileId, $revision=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_article_file_manager.html#a3f4f8837919f452245adb2829421b7cd">copyToLayoutFile</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>revision</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Copies an existing file to create a layout file. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$fileId</td><td>int the file id of the copyedit file. </td></tr>
    <tr><td class="paramname">$revision</td><td>int the revision of the copyedit file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>int the file id of the new file. </dd></dl>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00400">400</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="abfc13e4e49cb4b2f4479094c0d07f003"></a><!-- doxytag: member="ArticleFileManager::copyToReviewFile" ref="abfc13e4e49cb4b2f4479094c0d07f003" args="($fileId, $revision=null, $destFileId=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_article_file_manager.html#abfc13e4e49cb4b2f4479094c0d07f003">copyToReviewFile</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>revision</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>destFileId</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Copies an existing file to create a review file. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$originalFileId</td><td>int the file id of the original file. </td></tr>
    <tr><td class="paramname">$originalRevision</td><td>int the revision of the original file. </td></tr>
    <tr><td class="paramname">$destFileId</td><td>int the file id of the current review file </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>int the file id of the new file. </dd></dl>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00369">369</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a4fe0a1885dd66b207f35c91af5672905"></a><!-- doxytag: member="ArticleFileManager::deleteArticleTree" ref="a4fe0a1885dd66b207f35c91af5672905" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_article_file_manager.html#a4fe0a1885dd66b207f35c91af5672905">deleteArticleTree</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Delete the entire tree of files belonging to an article. </p>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00287">287</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a6c6d244da39320f61ee9f1a025d381b8"></a><!-- doxytag: member="ArticleFileManager::deleteFile" ref="a6c6d244da39320f61ee9f1a025d381b8" args="($fileId, $revision=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_article_file_manager.html#a6c6d244da39320f61ee9f1a025d381b8">deleteFile</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>revision</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Delete a file by ID. If no revision is specified, all revisions of the file are deleted. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$fileId</td><td>int </td></tr>
    <tr><td class="paramname">$revision</td><td>int (optional) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>int number of files removed </dd></dl>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00243">243</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a8368de9570cfcf781cae216b5833eb83"></a><!-- doxytag: member="ArticleFileManager::downloadFile" ref="a8368de9570cfcf781cae216b5833eb83" args="($fileId, $revision=null, $inline=false, $format=&quot;docx&quot;, $issueId=0, $articleId=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_article_file_manager.html#a8368de9570cfcf781cae216b5833eb83">downloadFile</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>revision</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>inline</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>format</em> = <code>&quot;docx&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>issueId</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>articleId</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Download a file. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$fileId</td><td>int the file id of the file to download </td></tr>
    <tr><td class="paramname">$revision</td><td>int the revision of the file to download </td></tr>
    <tr><td class="paramname">$inline</td><td>print file as inline instead of attachment, optional </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00298">298</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a44c3bac95fea03718b409929a2226a57"></a><!-- doxytag: member="ArticleFileManager::generateDummyFile" ref="a44c3bac95fea03718b409929a2226a57" args="(&amp;$article)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">&amp; <a class="el" href="class_article_file_manager.html#a44c3bac95fea03718b409929a2226a57">generateDummyFile</a> </td>
          <td>(</td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>article</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>PRIVATE routine to generate a dummy file. Used in handleUpload. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$article</td><td>object </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>object articleFile </dd></dl>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00498">498</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a41291dd786e1352ea56fff630a2c5182"></a><!-- doxytag: member="ArticleFileManager::generateFilename" ref="a41291dd786e1352ea56fff630a2c5182" args="(&amp;$articleFile, $type, $originalName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_article_file_manager.html#a41291dd786e1352ea56fff630a2c5182">generateFilename</a> </td>
          <td>(</td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>articleFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>originalName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>PRIVATE routine to generate a filename for an article file. Sets the filename field in the articleFile to the generated value. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$articleFile</td><td>The article to generate a filename for </td></tr>
    <tr><td class="paramname">$type</td><td>The type of the article (e.g. as supplied to handleUpload) </td></tr>
    <tr><td class="paramname">$originalName</td><td>The name of the original file </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00537">537</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a591259ee50ad69e6484ca30d65ebb922"></a><!-- doxytag: member="ArticleFileManager::getFile" ref="a591259ee50ad69e6484ca30d65ebb922" args="($fileId, $revision=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">&amp; <a class="el" href="class_article_file_manager.html#a591259ee50ad69e6484ca30d65ebb922">getFile</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>revision</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieve file information by file ID. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="class_article_file.html" title="Article file class.">ArticleFile</a> </dd></dl>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00211">211</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a91cf272404ef729cca75bf08bfe86041"></a><!-- doxytag: member="ArticleFileManager::handleCopy" ref="a91cf272404ef729cca75bf08bfe86041" args="($url, $mimeType, $type, $fileId=null, $overwrite=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_article_file_manager.html#a91cf272404ef729cca75bf08bfe86041">handleCopy</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>mimeType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileId</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>overwrite</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>PRIVATE routine to copy an article file and add it to the database. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$url</td><td>original filename/url of the file </td></tr>
    <tr><td class="paramname">$mimeType</td><td>string the mime type of the file </td></tr>
    <tr><td class="paramname">$type</td><td>string identifying type </td></tr>
    <tr><td class="paramname">$fileId</td><td>int ID of an existing file to update </td></tr>
    <tr><td class="paramname">$overwrite</td><td>boolean overwrite all previous revisions of the file (revision number is still incremented) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>int the file ID (false if upload failed) </dd></dl>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00850">850</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a4cb214906004e32a30cab9b0a8a78bbd"></a><!-- doxytag: member="ArticleFileManager::handleUpload" ref="a4cb214906004e32a30cab9b0a8a78bbd" args="($fileName, $type, $fileId=null, $overwrite=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_article_file_manager.html#a4cb214906004e32a30cab9b0a8a78bbd">handleUpload</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileId</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>overwrite</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>PRIVATE routine to upload the file, add it to the database, convert into proof formats and ingest in repository. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$fileName</td><td>string index into the $_FILES array </td></tr>
    <tr><td class="paramname">$type</td><td>string identifying type </td></tr>
    <tr><td class="paramname">$fileId</td><td>int ID of an existing file to update </td></tr>
    <tr><td class="paramname">$overwrite</td><td>boolean overwrite all previous revisions of the file (revision number is still incremented) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>int the file ID (false if upload failed) </dd></dl>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00552">552</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a0cffc7dd6847dca3b9b8890824a3763a"></a><!-- doxytag: member="ArticleFileManager::handleWrite" ref="a0cffc7dd6847dca3b9b8890824a3763a" args="($fileName, &amp;$contents, $mimeType, $type, $fileId=null, $overwrite=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_article_file_manager.html#a0cffc7dd6847dca3b9b8890824a3763a">handleWrite</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>contents</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>mimeType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileId</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>overwrite</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>PRIVATE routine to write an article file and add it to the database. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$fileName</td><td>original filename of the file </td></tr>
    <tr><td class="paramname">$contents</td><td>string contents of the file to write </td></tr>
    <tr><td class="paramname">$mimeType</td><td>string the mime type of the file </td></tr>
    <tr><td class="paramname">$type</td><td>string identifying type </td></tr>
    <tr><td class="paramname">$fileId</td><td>int ID of an existing file to update </td></tr>
    <tr><td class="paramname">$overwrite</td><td>boolean overwrite all previous revisions of the file (revision number is still incremented) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>int the file ID (false if upload failed) </dd></dl>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00796">796</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a81929be90360b67b8db54999858f4a82"></a><!-- doxytag: member="ArticleFileManager::readFile" ref="a81929be90360b67b8db54999858f4a82" args="($fileId, $revision=null, $output=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_article_file_manager.html#a81929be90360b67b8db54999858f4a82">readFile</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>revision</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>output</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Read a file's contents. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$output</td><td>boolean output the file's contents instead of returning a string </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00222">222</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a65ad35c21994e2e271181ad6dd750ceb"></a><!-- doxytag: member="ArticleFileManager::removePriorRevisions" ref="a65ad35c21994e2e271181ad6dd750ceb" args="($fileId, $revision)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_article_file_manager.html#a65ad35c21994e2e271181ad6dd750ceb">removePriorRevisions</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>revision</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>PRIVATE routine to remove all prior revisions of a file. </p>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00520">520</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a35e0952b4bc599d51fea5f812aef8a03"></a><!-- doxytag: member="ArticleFileManager::returnMIMEType" ref="a35e0952b4bc599d51fea5f812aef8a03" args="($filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_article_file_manager.html#a35e0952b4bc599d51fea5f812aef8a03">returnMIMEType</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function to return the MIMETYPE of a file, first by parsing file extension and then returning mime_content_type </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">str</td><td class="paramname">$filename</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>str </dd></dl>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00682">682</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a3eadbd4fe1dc722b2a382974e555caea"></a><!-- doxytag: member="ArticleFileManager::temporaryFileToArticleFile" ref="a3eadbd4fe1dc722b2a382974e555caea" args="(&amp;$temporaryFile, $type, $assocId=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_article_file_manager.html#a3eadbd4fe1dc722b2a382974e555caea">temporaryFileToArticleFile</a> </td>
          <td>(</td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>temporaryFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>assocId</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Copy a temporary file to an article file. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="class_temporary_file.html" title="Temporary file class.">TemporaryFile</a></td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>int the file ID (false if upload failed) </dd></dl>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00900">900</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a48db5552c194414ed995d3ff0dd61711"></a><!-- doxytag: member="ArticleFileManager::typeToPath" ref="a48db5552c194414ed995d3ff0dd61711" args="($type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_article_file_manager.html#a48db5552c194414ed995d3ff0dd61711">typeToPath</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return type path associated with a type code. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$type</td><td>string </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>string </dd></dl>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00409">409</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a0c4ed13a46a3000e7516f84e380a2929"></a><!-- doxytag: member="ArticleFileManager::uploadCopyeditFile" ref="a0c4ed13a46a3000e7516f84e380a2929" args="($fileName, $fileId=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_article_file_manager.html#a0c4ed13a46a3000e7516f84e380a2929">uploadCopyeditFile</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileId</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Upload a file to the copyedit file folder. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$fileName</td><td>string the name of the file used in the POST form </td></tr>
    <tr><td class="paramname">$fileId</td><td>int </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>int file ID, is false if failure </dd></dl>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00102">102</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a148efd61daf4be339d3bbe352587d3f5"></a><!-- doxytag: member="ArticleFileManager::uploadEditorDecisionFile" ref="a148efd61daf4be339d3bbe352587d3f5" args="($fileName, $fileId=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_article_file_manager.html#a148efd61daf4be339d3bbe352587d3f5">uploadEditorDecisionFile</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileId</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Upload a file to the editor decision file folder. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$fileName</td><td>string the name of the file used in the POST form </td></tr>
    <tr><td class="paramname">$fileId</td><td>int </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>int file ID, is false if failure </dd></dl>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00092">92</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a28dfbb0d3c690bff7a1346bff2bdac61"></a><!-- doxytag: member="ArticleFileManager::uploadLayoutFile" ref="a28dfbb0d3c690bff7a1346bff2bdac61" args="($fileName, $fileId=null, $overwrite=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_article_file_manager.html#a28dfbb0d3c690bff7a1346bff2bdac61">uploadLayoutFile</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileId</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>overwrite</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Upload a section editor's layout editing file. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$fileName</td><td>string the name of the file used in the POST form </td></tr>
    <tr><td class="paramname">$fileId</td><td>int </td></tr>
    <tr><td class="paramname">$overwrite</td><td>boolean </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>int file ID, is null if failure </dd></dl>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00113">113</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a281608ca3584c55c7c373bd8299b9ffe"></a><!-- doxytag: member="ArticleFileManager::uploadPublicFile" ref="a281608ca3584c55c7c373bd8299b9ffe" args="($fileName, $fileId=null, $overwrite=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_article_file_manager.html#a281608ca3584c55c7c373bd8299b9ffe">uploadPublicFile</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileId</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>overwrite</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Upload a public file. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$fileName</td><td>string the name of the file used in the POST form </td></tr>
    <tr><td class="paramname">$fileId</td><td>int </td></tr>
    <tr><td class="paramname">$overwrite</td><td>boolean </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>int file ID, is false if failure </dd></dl>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00135">135</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a4e408bc4ee0fe18ba7c15a1e867b0da3"></a><!-- doxytag: member="ArticleFileManager::uploadReviewFile" ref="a4e408bc4ee0fe18ba7c15a1e867b0da3" args="($fileName, $fileId=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_article_file_manager.html#a4e408bc4ee0fe18ba7c15a1e867b0da3">uploadReviewFile</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileId</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Upload a file to the review file folder. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$fileName</td><td>string the name of the file used in the POST form </td></tr>
    <tr><td class="paramname">$fileId</td><td>int </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>int file ID, is false if failure </dd></dl>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00082">82</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="afab8906290a591c907c3876a1fbfa8bf"></a><!-- doxytag: member="ArticleFileManager::uploadSubmissionFile" ref="afab8906290a591c907c3876a1fbfa8bf" args="($fileName, $fileId=null, $overwrite=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_article_file_manager.html#afab8906290a591c907c3876a1fbfa8bf">uploadSubmissionFile</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileId</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>overwrite</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Upload a submission file. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$fileName</td><td>string the name of the file used in the POST form </td></tr>
    <tr><td class="paramname">$fileId</td><td>int </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>int file ID, is false if failure </dd></dl>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00072">72</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="ad79c712fae01ed1fd1d56c57b4a55b03"></a><!-- doxytag: member="ArticleFileManager::uploadSubmissionNoteFile" ref="ad79c712fae01ed1fd1d56c57b4a55b03" args="($fileName, $fileId=null, $overwrite=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_article_file_manager.html#ad79c712fae01ed1fd1d56c57b4a55b03">uploadSubmissionNoteFile</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileId</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>overwrite</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Upload a note file. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$fileName</td><td>string the name of the file used in the POST form </td></tr>
    <tr><td class="paramname">$fileId</td><td>int </td></tr>
    <tr><td class="paramname">$overwrite</td><td>boolean </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>int file ID, is false if failure </dd></dl>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00146">146</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="ac4bad86fa222c9e5b1c206227d0f1406"></a><!-- doxytag: member="ArticleFileManager::uploadSuppFile" ref="ac4bad86fa222c9e5b1c206227d0f1406" args="($fileName, $fileId=null, $overwrite=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_article_file_manager.html#ac4bad86fa222c9e5b1c206227d0f1406">uploadSuppFile</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileId</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>overwrite</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Upload a supp file. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$fileName</td><td>string the name of the file used in the POST form </td></tr>
    <tr><td class="paramname">$fileId</td><td>int </td></tr>
    <tr><td class="paramname">$overwrite</td><td>boolean </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>int file ID, is false if failure </dd></dl>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00124">124</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a0514eba9e3a60e1f3e025ec422aba2b4"></a><!-- doxytag: member="ArticleFileManager::viewFile" ref="a0514eba9e3a60e1f3e025ec422aba2b4" args="($fileId, $revision=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_article_file_manager.html#a0514eba9e3a60e1f3e025ec422aba2b4">viewFile</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>revision</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>View a file inline (variant of downloadFile). </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_article_file_manager.html#a8368de9570cfcf781cae216b5833eb83">ArticleFileManager::downloadFile</a> </dd></dl>

<p>Reimplemented from <a class="el" href="class_file_manager.html#a1cdf4ad55b7796b2e2e6ea6dc7ff10a5">FileManager</a>.</p>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00358">358</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a74c8713f495f5ef71fe4e8cb25ddcad7"></a><!-- doxytag: member="ArticleFileManager::writePublicFile" ref="a74c8713f495f5ef71fe4e8cb25ddcad7" args="($fileName, &amp;$contents, $mimeType, $fileId=null, $overwrite=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_article_file_manager.html#a74c8713f495f5ef71fe4e8cb25ddcad7">writePublicFile</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>contents</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>mimeType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileId</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>overwrite</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Write a public file. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$fileName</td><td>string The original filename </td></tr>
    <tr><td class="paramname">$contents</td><td>string The contents to be written to the file </td></tr>
    <tr><td class="paramname">$mimeType</td><td>string The mime type of the original file </td></tr>
    <tr><td class="paramname">$fileId</td><td>int </td></tr>
    <tr><td class="paramname">$overwrite</td><td>boolean </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00158">158</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<a class="anchor" id="a556ef5cd201538091af9980ba95f5265"></a><!-- doxytag: member="ArticleFileManager::writeSuppFile" ref="a556ef5cd201538091af9980ba95f5265" args="($fileName, &amp;$contents, $mimeType, $fileId=null, $overwrite=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_article_file_manager.html#a556ef5cd201538091af9980ba95f5265">writeSuppFile</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>contents</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>mimeType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fileId</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>overwrite</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Write a supplemental file. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$fileName</td><td>string The original filename </td></tr>
    <tr><td class="paramname">$contents</td><td>string The contents to be written to the file </td></tr>
    <tr><td class="paramname">$mimeType</td><td>string The mime type of the original file </td></tr>
    <tr><td class="paramname">$fileId</td><td>int </td></tr>
    <tr><td class="paramname">$overwrite</td><td>boolean </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_article_file_manager_8inc_8php_source.html#l00181">181</a> of file <a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_article_file_manager_8inc_8php_source.html">ArticleFileManager.inc.php</a></li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Mon Mar 12 2012 16:02:01 for CBP Platform by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
